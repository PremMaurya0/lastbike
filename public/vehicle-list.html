
<!DOCTYPE html>
<html lang="en" class="light">
    <!-- BEGIN: Head -->
    <head>
        <meta charset="utf-8">
        <link href="" rel="shortcut icon">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="author" content="">
        <title>Dashboard - Map UI</title>
        <!-- BEGIN: CSS Assets-->
        <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDZIIPkxUOhnlEUuegCFhDUpcAvTQIXozs&callback=initMap&libraries=drawing&v=weekly"
        defer
      ></script>
        <link rel="stylesheet" href="http://chintansareen.com/demo/MapUI/dist/css/app.css" />
        <link rel="stylesheet" href="http://chintansareen.com/demo/MapUI/dist/css/style.css" />
        <!-- END: CSS Assets-->
    </head>
    <!-- END: Head -->
    <body class="app">
        <!-- BEGIN: Mobile Menu -->
        <div class="mobile-menu md:hidden">
            <div class="mobile-menu-bar">
                <a href="" class="flex mr-auto">
                    <img alt="Midone Tailwind HTML Admin Template" class="w-6" src="dist/images/logo.svg">
                </a>
                <a href="javascript:;" id="mobile-menu-toggler"> <i data-feather="bar-chart-2" class="w-8 h-8 text-white transform -rotate-90"></i> </a>
            </div>
            <ul class="border-t border-theme-24 py-5 hidden">
                <li>
                    <a href="dashboard.html" class="menu menu--active">
                        <div class="menu__icon"> <i data-feather="home"></i> </div>
                        <div class="menu__title"> Dashboard </div>
                    </a>
                </li>
                <li>
                    <a href="tracking.html" class="menu">
                        <div class="menu__icon"> <i data-feather="home"></i> </div>
                        <div class="menu__title"> Tracking </div>
                    </a>
                </li>
                <li>
                    <a href="javascript:;" class="menu">
                        <div class="menu__icon"> <i data-feather="box"></i> </div>
                        <div class="menu__title"> Vehicle <i data-feather="chevron-down" class="menu__sub-icon"></i> </div>
                    </a>
                    <ul class="">                        
                        <li>
                            <a href="vehicle-list.html" class="menu">
                                <div class="menu__icon"> <i data-feather="activity"></i> </div>
                                <div class="menu__title"> Vehicle List </div>
                            </a>
                        </li>
                        <li>
                            <a href="vehicle-add.html" class="menu">
                                <div class="menu__icon"> <i data-feather="activity"></i> </div>
                                <div class="menu__title"> Add Vehicle </div>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!-- END: Mobile Menu -->
        <div class="flex">
            <!-- BEGIN: Side Menu -->
            <nav class="side-nav">
                <a href="" class="intro-x flex items-center pl-5 pt-4">
                    <img alt="Midone Tailwind HTML Admin Template" class="w-6" src="dist/images/logo.svg">
                    <span class="hidden xl:block text-white text-lg ml-3"> Map UI </span>
                </a>
                <div class=" my-6"></div>
                <ul>
                    <li>
                        <a href="dashboard.html" class="side-menu side-menu--active">
                            <div class="side-menu__icon"> <i data-feather="home"></i> </div>
                            <div class="side-menu__title"> Dashboard </div>
                        </a>
                    </li>
                    <li>
                        <a href="5racking.html" class="side-menu">
                            <div class="side-menu__icon"> <i data-feather="home"></i> </div>
                            <div class="side-menu__title"> Tracking </div>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;" class="side-menu">
                            <div class="side-menu__icon"> <i data-feather="box"></i> </div>
                            <div class="side-menu__title"> Vehicle <i data-feather="chevron-down" class="side-menu__sub-icon"></i> </div>
                        </a>
                        <ul class="">                            
                            <li>
                                <a href="vehicle-list.html" class="side-menu">
                                    <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                    <div class="side-menu__title"> Vehicle List </div>
                                </a>
                            </li>
                            <li>
                                <a href="vehicle-add.html" class="side-menu">
                                    <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                    <div class="side-menu__title"> Add Vehicle </div>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="javascript:;" class="side-menu">
                            <div class="side-menu__icon"> <i data-feather="box"></i> </div>
                            <div class="side-menu__title"> Area <i data-feather="chevron-down" class="side-menu__sub-icon"></i> </div>
                        </a>
                        <ul class="">                            
                            <li>
                                <a href="area-list.html" class="side-menu">
                                    <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                    <div class="side-menu__title"> Area List  </div>
                                </a>
                            </li>
                            <li>
                                <a href="area-create.html" class="side-menu">
                                    <div class="side-menu__icon"> <i data-feather="activity"></i> </div>
                                    <div class="side-menu__title"> Create Area </div>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <!-- END: Side Menu -->
            <!-- BEGIN: Content -->
            <div class="content">
                <!-- BEGIN: Top Bar -->
                <div class="top-bar">
                    <!-- BEGIN: Breadcrumb -->
                    <div class="-intro-x breadcrumb mr-auto hidden sm:flex"> <a href="" class="">Application</a> <i data-feather="chevron-right" class="breadcrumb__icon"></i> <a href="" class="breadcrumb--active">Vehicle</a> </div>
                    <!-- END: Breadcrumb -->
                    <!-- BEGIN: Search -->
                    <!-- <div class="intro-x relative mr-3 sm:mr-6">
                        <div class="search hidden sm:block">
                            <input type="text" class="search__input input placeholder-theme-13" placeholder="Search...">
                            <i data-feather="search" class="search__icon dark:text-gray-300"></i> 
                        </div>
                        <a class="notification sm:hidden" href=""> <i data-feather="search" class="notification__icon dark:text-gray-300"></i> </a>
                        <div class="search-result">
                            <div class="search-result__content">
                                <div class="search-result__content__title">Pages</div>
                                <div class="mb-5">
                                    <a href="" class="flex items-center">
                                        <div class="w-8 h-8 bg-theme-18 text-theme-9 flex items-center justify-center rounded-full"> <i class="w-4 h-4" data-feather="inbox"></i> </div>
                                        <div class="ml-3">Mail Settings</div>
                                    </a>
                                    <a href="" class="flex items-center mt-2">
                                        <div class="w-8 h-8 bg-theme-17 text-theme-11 flex items-center justify-center rounded-full"> <i class="w-4 h-4" data-feather="users"></i> </div>
                                        <div class="ml-3">Users & Permissions</div>
                                    </a>
                                    <a href="" class="flex items-center mt-2">
                                        <div class="w-8 h-8 bg-theme-14 text-theme-10 flex items-center justify-center rounded-full"> <i class="w-4 h-4" data-feather="credit-card"></i> </div>
                                        <div class="ml-3">Transactions Report</div>
                                    </a>
                                </div>
                                <div class="search-result__content__title">Users</div>
                                <div class="mb-5">
                                    <a href="" class="flex items-center mt-2">
                                        <div class="w-8 h-8 image-fit">
                                            <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-9.jpg">
                                        </div>
                                        <div class="ml-3">Al Pacino</div>
                                        <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">alpacino@left4code.com</div>
                                    </a>
                                    <a href="" class="flex items-center mt-2">
                                        <div class="w-8 h-8 image-fit">
                                            <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-2.jpg">
                                        </div>
                                        <div class="ml-3">Al Pacino</div>
                                        <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">alpacino@left4code.com</div>
                                    </a>
                                    <a href="" class="flex items-center mt-2">
                                        <div class="w-8 h-8 image-fit">
                                            <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-9.jpg">
                                        </div>
                                        <div class="ml-3">Denzel Washington</div>
                                        <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">denzelwashington@left4code.com</div>
                                    </a>
                                    <a href="" class="flex items-center mt-2">
                                        <div class="w-8 h-8 image-fit">
                                            <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-2.jpg">
                                        </div>
                                        <div class="ml-3">Denzel Washington</div>
                                        <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">denzelwashington@left4code.com</div>
                                    </a>
                                </div>
                                <div class="search-result__content__title">Products</div>
                                <a href="" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/preview-9.jpg">
                                    </div>
                                    <div class="ml-3">Samsung Galaxy S20 Ultra</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Smartphone &amp; Tablet</div>
                                </a>
                                <a href="" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/preview-10.jpg">
                                    </div>
                                    <div class="ml-3">Samsung Q90 QLED TV</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Electronic</div>
                                </a>
                                <a href="" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/preview-13.jpg">
                                    </div>
                                    <div class="ml-3">Apple MacBook Pro 13</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">PC &amp; Laptop</div>
                                </a>
                                <a href="" class="flex items-center mt-2">
                                    <div class="w-8 h-8 image-fit">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/preview-2.jpg">
                                    </div>
                                    <div class="ml-3">Nikon Z6</div>
                                    <div class="ml-auto w-48 truncate text-gray-600 text-xs text-right">Photography</div>
                                </a>
                            </div>
                        </div>
                    </div> -->
                    <!-- END: Search -->
                    <!-- BEGIN: Notifications -->
                    <div class="intro-x dropdown mr-auto sm:mr-6">
                        <div class="dropdown-toggle notification notification--bullet cursor-pointer"> <i data-feather="bell" class="notification__icon dark:text-gray-300"></i> </div>
                        <div class="notification-content pt-2 dropdown-box">
                            <div class="notification-content__box dropdown-box__content box dark:bg-dark-6">
                                <div class="notification-content__title">Notifications</div>
                                <div class="cursor-pointer relative flex items-center ">
                                    <div class="w-12 h-12 flex-none image-fit mr-1">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-9.jpg">
                                        <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                    </div>
                                    <div class="ml-2 overflow-hidden">
                                        <div class="flex items-center">
                                            <a href="javascript:;" class="font-medium truncate mr-5">Al Pacino</a> 
                                            <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                        </div>
                                        <div class="w-full truncate text-gray-600">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem </div>
                                    </div>
                                </div>
                                <div class="cursor-pointer relative flex items-center mt-5">
                                    <div class="w-12 h-12 flex-none image-fit mr-1">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-2.jpg">
                                        <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                    </div>
                                    <div class="ml-2 overflow-hidden">
                                        <div class="flex items-center">
                                            <a href="javascript:;" class="font-medium truncate mr-5">Al Pacino</a> 
                                            <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                        </div>
                                        <div class="w-full truncate text-gray-600">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomi</div>
                                    </div>
                                </div>
                                <div class="cursor-pointer relative flex items-center mt-5">
                                    <div class="w-12 h-12 flex-none image-fit mr-1">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-9.jpg">
                                        <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                    </div>
                                    <div class="ml-2 overflow-hidden">
                                        <div class="flex items-center">
                                            <a href="javascript:;" class="font-medium truncate mr-5">Denzel Washington</a> 
                                            <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                        </div>
                                        <div class="w-full truncate text-gray-600">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomi</div>
                                    </div>
                                </div>
                                <div class="cursor-pointer relative flex items-center mt-5">
                                    <div class="w-12 h-12 flex-none image-fit mr-1">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-2.jpg">
                                        <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                    </div>
                                    <div class="ml-2 overflow-hidden">
                                        <div class="flex items-center">
                                            <a href="javascript:;" class="font-medium truncate mr-5">Denzel Washington</a> 
                                            <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">01:10 PM</div>
                                        </div>
                                        <div class="w-full truncate text-gray-600">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#039;s standard dummy text ever since the 1500</div>
                                    </div>
                                </div>
                                <div class="cursor-pointer relative flex items-center mt-5">
                                    <div class="w-12 h-12 flex-none image-fit mr-1">
                                        <img alt="Midone Tailwind HTML Admin Template" class="rounded-full" src="dist/images/profile-8.jpg">
                                        <div class="w-3 h-3 bg-theme-9 absolute right-0 bottom-0 rounded-full border-2 border-white"></div>
                                    </div>
                                    <div class="ml-2 overflow-hidden">
                                        <div class="flex items-center">
                                            <a href="javascript:;" class="font-medium truncate mr-5">Al Pacino</a> 
                                            <div class="text-xs text-gray-500 ml-auto whitespace-no-wrap">05:09 AM</div>
                                        </div>
                                        <div class="w-full truncate text-gray-600">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END: Notifications -->
                    <!-- BEGIN: Account Menu -->
                    <div class="intro-x dropdown w-8 h-8">
                        <div class="dropdown-toggle w-8 h-8 rounded-full overflow-hidden shadow-lg image-fit zoom-in">
                            <img alt="Midone Tailwind HTML Admin Template" src="dist/images/profile-3.jpg">
                        </div>
                        <div class="dropdown-box w-56">
                            <div class="dropdown-box__content box bg-theme-38 dark:bg-dark-6 text-white">
                                <div class="p-4 border-b border-theme-40 dark:border-dark-3">
                                    <div class="font-medium">User</div>
                                    <div class="text-xs text-theme-41 dark:text-gray-600">Email@gmail.com</div>
                                </div>
                                <div class="p-2">
                                    <!-- <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 dark:hover:bg-dark-3 rounded-md"> <i data-feather="user" class="w-4 h-4 mr-2"></i> Profile </a>
                                    <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 dark:hover:bg-dark-3 rounded-md"> <i data-feather="edit" class="w-4 h-4 mr-2"></i> Add Account </a> -->
                                    <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 dark:hover:bg-dark-3 rounded-md"> <i data-feather="lock" class="w-4 h-4 mr-2"></i> Reset Password </a>
                                    <!-- <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 dark:hover:bg-dark-3 rounded-md"> <i data-feather="help-circle" class="w-4 h-4 mr-2"></i> Help </a> -->
                                </div>
                                <div class="p-2 border-t border-theme-40 dark:border-dark-3">
                                    <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 dark:hover:bg-dark-3 rounded-md"> <i data-feather="toggle-right" class="w-4 h-4 mr-2"></i> Logout </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END: Account Menu -->
                </div>
                <!-- END: Top Bar -->
                <div class="intro-y flex items-center mt-8">
                    <h2 class="text-lg font-medium mr-auto">
                        Vehicle list
                    </h2>
                </div>
                <div class="grid grid-cols-12 gap-6 mt-5">
                    <div class="intro-y col-span-12 flex flex-wrap sm:flex-no-wrap items-center mt-2">
                        <button onclick="location.href='vehicle-add.html'" class="button w-24 mr-1 mb-2 bg-theme-1 text-white mr-2">Add New</button>
                       
                        <!-- <div class="hidden md:block mx-auto text-gray-600">Showing 1 to 10 of 150 entries</div>
                        <div class="w-full sm:w-auto mt-3 sm:mt-0 sm:ml-auto md:ml-0">
                            <div class="w-56 relative text-gray-700 dark:text-gray-300">
                                <input type="text" class="input w-56 box pr-10 placeholder-theme-13" placeholder="Search...">
                                <i class="w-4 h-4 absolute my-auto inset-y-0 mr-3 right-0" data-feather="search"></i> 
                            </div>
                        </div> -->
                    </div>
                    <div class="intro-y col-span-12 lg:col-span-12">
                        <div class="p-5 box" id="responsive-table">
                            <div class="preview">
                                <div class="overflow-x-auto">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                
                                                <th class="border-b-2 dark:border-dark-5 whitespace-no-wrap">Device ID</th>
                                                <th class="border-b-2 dark:border-dark-5 whitespace-no-wrap">Model name</th>
                                                <th class="border-b-2 dark:border-dark-5 whitespace-no-wrap">Vehicle  No.</th>
                                                <th class="border-b-2 dark:border-dark-5 whitespace-no-wrap">Chassis No.</th>
                                                <th class="border-b-2 dark:border-dark-5 whitespace-no-wrap">Assign Area</th>
                                                <th class="border-b-2 dark:border-dark-5 whitespace-no-wrap">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="intro-y col-span-12 flex flex-wrap sm:flex-row sm:flex-no-wrap items-center text-center">
                        <ul class="pagination box">
                            <li>
                                <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevrons-left"></i> </a>
                            </li>
                            <li>
                                <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevron-left"></i> </a>
                            </li>
                            <li> <a class="pagination__link" href="">...</a> </li>
                            <li> <a class="pagination__link" href="">1</a> </li>
                            <li> <a class="pagination__link pagination__link--active" href="">2</a> </li>
                            <li> <a class="pagination__link" href="">3</a> </li>
                            <li> <a class="pagination__link" href="">...</a> </li>
                            <li>
                                <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevron-right"></i> </a>
                            </li>
                            <li>
                                <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevrons-right"></i> </a>
                            </li>
                        </ul>
                    </div> -->
               
               

                    <div class="md-modal md-effect-12 bg-white">
                        <div class="md-content">
                            <div class="grid grid-cols-12 gap-6 mt-8">
                                <div class="intro-y col-span-12 lg:col-span-12">
                                    <div class="px-5">
                                        <h2 class="text-lg font-medium mr-auto">
                                            Select Area
                                        </h2>
                                    </div>
                                </div>
                                
                                <div class="intro-y col-span-12">
                                    
                                <select class="input w-full border flex-1" id="mySelect" onchange="getSelectValue()">
                                 
                                </select>
                    
                                </div>
                                <div class="intro-y col-span-12 lg:col-span-12" id="errormsg" style="display:none; text-align: center;color:red">
                                   
                                    </div>
                                <div class="intro-y col-span-12" >
                                    <div id="map" style="height: 300px;"></div>
                                </div>
                                <div class="col-span-12 lg:col-span-12 items-center text-center">
                                    <button type="button" onclick="closeview()" class="button w-24 mr-1 mb-2 bg-theme-1 text-white md-close">Close</button>
                                    <button type="button" id="savedata" class="button w-24 mr-1 mb-2 bg-theme-1 text-white md-close">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="md-overlay"></div>
                        
                </div>
            </div>
            <!-- END: Content -->
        </div>
        
        <!-- END: Dark Mode Switcher-->
        <!-- BEGIN: JS Assets-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="http://chintansareen.com/demo/MapUI/dist/js/app.js"></script>
        <script src="https://unpkg.com/feather-icons@4.28.0/dist/feather.min.js"></script>
        <!-- END: JS Assets-->
        <script>
              
            
            var areaNumber,byikid,lat,lng;
                    function vechileList(){
                        $.ajax({
                              type: "GET",
                              url: "http://15.207.162.5:3001/api/v1/vechileList",
                              data:{},
                              contentType: "application/json; charset=utf-8",
                              dataType: "json",
                              success: function (response) {
                                  console.log(response);
                                $("table >tbody").html('');
                                var html;  
                                if(response.length>0){
                                  for(var x=0;x<response.length;x++){
                                      html='';
                                      if(response[x].status==0){
                                        html+="<input type='button' style='cursor: pointer ;padding: 10px; background: #72bf86;' onclick='getdata("+response[x].id.toString()+")' value='Assign Area' />";
                                      }else{
                                        html+="<input type='button' style='cursor: pointer; padding: 10px; background: khaki;' onclick='getdata("+response[x].id.toString()+")' value='Re-assign Area' />";
                                     
                                      }
                                      $("table >tbody").append(`
                                      <tr>
                                               <td class="border-b whitespace-no-wrap">${response[x].DeviceId}</td>
                                                <td class="border-b whitespace-no-wrap">${response[x].vechileNumber}</td>
                                                <td class="border-b whitespace-no-wrap">${response[x].modelname}</td>
                                                <td class="border-b whitespace-no-wrap">${response[x].chissisnumber}</td>
                                                <td class="border-b whitespace-no-wrap" style="cursor: pointer;">${html}</td>
                                                <td class="border-b whitespace-no-wrap">
                                                    <button class="button px-2 mr-1 mb-2 bg-theme-3 text-white">
                                                        <span class="w-5 h-5 flex items-center justify-center"> <i data-feather="eye" class="w-4 h-4"></i></span>
                                                    </button> 
                                                    <button class="button px-2 mr-1 mb-2 bg-theme-1 text-white">
                                                        <span class="w-5 h-5 flex items-center justify-center"> <i data-feather="edit" class="w-4 h-4"></i></span>
                                                    </button> 
                                                    <button class="button px-2 mr-1 mb-2 bg-theme-6 text-white">
                                                        <span class="w-5 h-5 flex items-center justify-center"> <i data-feather="trash" class="w-4 h-4"></i> </span>
                                                    </button>
                                                </td>
                                            </tr>    
                                      `);
                                      feather.replace();
                                    
                                  }
                                }else{
                                    $("table >tbody").append(`<tr>
                                    <td collspan="3">Records Not Found!!</td></tr>`)
                                }
                                  
                              },
                              failure: function (msg) {
                                console.log(msg);
                              }
                          });
                    }
                    vechileList();
                    function getdata(id){
                        byikid=id;
                        $('.md-modal').addClass('md-show');
                    }
                 
                  function areaList(){
                        $.ajax({
                              type: "GET",
                              url: "http://15.207.162.5:3001/api/v1/areaList",
                              data:{},
                              contentType: "application/json; charset=utf-8",
                              dataType: "json",
                              success: function (response) {
                                 // console.log(response);
                                  $("#mySelect").html('');
                                  if(response.areaList.length>0){
                                    $('#mySelect').append($('<option>', { 
                                        value: 0,
                                        text :"Select Area" ,
                                     }));
                                  for(var x=0;x<response.areaList.length;x++){
                                    $('#mySelect').append($('<option>', { 
                                        value: response.areaList[x].AreaNumber,
                                        text : response.areaList[x].AreaName 
                                    }));
                                   
                                  }
                                }
                              
                                  
                              },
                              failure: function (msg) {
                                console.log(msg);
                              }
                          });
                    }
                    areaList();
            
                    function getSelectValue()
                    {
                        var selectedValue = document.getElementById("mySelect").value;
                      //  alert(selectedValue);
                      $("#errormsg").html('');
                      $("#errormsg").hide('');
                        areaNumber=selectedValue;
                        areaSingle(selectedValue).then(initMap2);
                    }
            
            
            
                 
              var Coords=[],shapename;
            function areaSingle(areaname){
              return new Promise((resolve, reject) => {
                        $.ajax({
                              type: "Post",
                              url: "http://15.207.162.5:3001/api/v1/areaSingle",
                              data:{"areanumber":areaname},
                              success: function (response) {
                               
                                Coords=[];
                                shapename=response.shapetype;
                                for(var x=0;x<response.List.length;x++){
                                  Coords.push({lat:parseFloat(response.List[x].lat),lng:parseFloat(response.List[x].lng)})
                                }
                                resolve(response.shapetype);
                               
                              },
                              failure: function (msg) {
                                console.log(msg);
                                reject(msg);
                              }
                          });
                        });
                    }
            
            
            // This example creates a simple polygon representing the Bermuda Triangle.
            // When the user clicks on the polygon an info window opens, showing
            // information about the polygon's coordinates.
            
            let map;
            
            function initMap() {
            
              map = new google.maps.Map(document.getElementById("map"), {
                zoom: 8,
                center: { lat: 28.6139, lng:77.2090 },
                mapTypeId: "terrain",
              });
            
             
            
            }
            
            function initMap2(){
             
              map = new google.maps.Map(document.getElementById("map"), {
                zoom: 7,
                center: { lat: Coords[0].lat, lng:Coords[0].lng },
                mapTypeId: "terrain",
              });
             
              if(shapename=="polygon"){
            
                const region = new google.maps.Polygon({
                map: map,
                clickable: false,
                paths: Coords,
                });
            
            
              var bounds = new google.maps.LatLngBounds();
              for (var i = 0; i < region.getPath().getLength(); i++) {
                bounds.extend(region.getPath().getAt(i));
              }
              map.fitBounds(bounds);
               var marker = new google.maps.Marker({
                map,
                draggable: true,
                animation: google.maps.Animation.DROP,
                position: { lat: Coords[0].lat, lng:Coords[0].lng },
              });
              marker.addListener("onload", toggleBounce);
                
                google.maps.event.addListener(marker, 'dragend', function (marker) {
                    if(bounds.contains(new google.maps.LatLng(marker.latLng.lat(), marker.latLng.lng()))==true){
                    console.log(marker.latLng.lat(), marker.latLng.lng());
                    lat=marker.latLng.lat();
                    lng=marker.latLng.lng();
                  }else{
                    $("#errormsg").show();
                    console.log(marker.latLng.lat(), marker.latLng.lng());
                    $("#errormsg").html('');
                    $("#errormsg").append(`<span>Not Data Save Because your bike is out of area</span>`);
                  }
                });   
             
              }else{
                
                var latlng=new google.maps.LatLng(Coords[0].lat, Coords[0].lng);
                const cityCircle = new google.maps.Circle({
                  strokeColor: "#FF0000",
                  strokeOpacity: 0.8,
                  strokeWeight: 2,
                  fillColor: "#FF0000",
                  radius: 100000,
                  fillOpacity: 0.35,
                  map,
                  center: Coords[0],
                  //radius: Math.sqrt(citymap[city].population) * 1000,
                });
             
                var bounds = cityCircle.getBounds();
                var marker = new google.maps.Marker({
                map,
                draggable: true,
                animation: google.maps.Animation.DROP,
                position: { lat: Coords[0].lat, lng:Coords[0].lng },
              });
            
            
              marker.addListener("onload", toggleBounce);
              google.maps.event.addListener(marker, 'dragend', function (marker) {
                  if(bounds.contains(new google.maps.LatLng(marker.latLng.lat(), marker.latLng.lng()))==true){
                    console.log(marker.latLng.lat(), marker.latLng.lng());
                    lat=marker.latLng.lat();
                    lng=marker.latLng.lng();
                  }else{
                    $("#errormsg").show();
                    console.log(marker.latLng.lat(), marker.latLng.lng());
                    $("#errormsg").html('');
                    $("#errormsg").append(`<span>Not Data Save Because your bike is out of area</span>`);
                  }
                    
                   
                }); 
              }
              
            
            }
            
            function toggleBounce() {
              if (marker.getAnimation() !== null) {
                marker.setAnimation(null);
              } else {
                marker.setAnimation(google.maps.Animation.BOUNCE);
              }
            }
            $("#savedata").on("click",function(){
                //  console.log(byikid);
                //  console.log(areaNumber);
                //  console.log(lat);
                //  console.log(lng);
                $("#errormsg").html('');
                if(byikid=="" || byikid==undefined){
            
                     $("#errormsg").show();
                    $("#errormsg").append(`<span>bike id is missing</span>`);
                }else if(areaNumber=="" || areaNumber==undefined){
                    $("#errormsg").show();
                    $("#errormsg").append(`<span>Area Number is missing, Please select area?</span>`);
                }else if(lat=="" || lat==undefined){
                    $("#errormsg").show();
                    $("#errormsg").append(`<span>lat is missing</span>`);
                }else if(lng=="" || lng==undefined){
                    $("#errormsg").show();
                    $("#errormsg").append(`<span>lng is missing</span>`);
                }else{
                    $("#errormsg").hide();
                    var obj={
                    id:byikid,
                    areaId:areaNumber,
                    lat:lat,
                    lng:lng
                }
                         $.ajax({
                              type: "POST",
                              url: "http://15.207.162.5:3001/api/v1/updateVechile",
                              data:JSON.stringify({'objectData': obj}),
                              contentType: "application/json; charset=utf-8",
                              dataType: "json",
                              success: function (response) {
                                $("#errormsg").hide();
                                $("#errormsg").html('');
                                 obj={};
                                 $('.md-modal').removeClass('md-show');
                                 $("#mySelect").val(0);
                                 initMap();
                              },
                              failure: function (msg) {
                                console.log(msg);
                              }
                          });
                }
            });
            function closeview(){
                $("#mySelect").val(0);
                initMap();
                $("#errormsg").hide();
                $('.md-modal').removeClass('md-show');
             }
              </script>
            



    </body>
</html>